#################################################################
#################################################################
############### Notebook Generator ##############################
#################################################################
#################################################################
##### Author: Denis Torre
##### Affiliation: Ma'ayan Laboratory,
##### Icahn School of Medicine at Mount Sinai

#################################################################
#################################################################
############### 1. Library Configuration ########################
#################################################################
#################################################################

#############################################
########## 1. Load libraries
#############################################
##### 1. Python modules #####
import requests, os, json

#################################################################
#################################################################
############### 1. Deployments ##################################
#################################################################
#################################################################

#############################################
########## 1. Generate Deployment
#############################################

def SendNotebook(live_notebook_url):

	url = 'http://amp.pharm.mssm.edu/notebook-generator-web/upload'
	data = {'raw_notebook_url': live_notebook_url, 'username': os.environ['username']}
	response = requests.post(url, data=json.dumps(data))
	google_notebook_url = json.loads(response.text)['google_notebook_url']
	return google_notebook_url
