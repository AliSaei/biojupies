{% extends 'base.html' %}
{% import 'macros.html' as macros %}

{% block head %}<title>Notebook Generator | Review</title>{% endblock %}

{% block content %}

<div class="container">
	<div class="row">
		<div class="col-8 large mt-5 pl-4">Review and Submit</div>
		<div class="col-4 text-right mt-5">
			<button class="btn btn-primary black border-black-custom bg-white nodecoration mr-2" onclick="goBack();"><i class="fa fa-angle-left mr-2"></i>Back</button>
			<button class="btn btn-primary navigate black border-black-custom bg-white nodecoration" form="review-analysis-form" type="submit" formaction="{{ url_for('generate_notebook') }}" formmethod="post">Generate Notebook</button>
		</div>
	</div>
	<div class="row">
		<hr width="100%" class="mt-3 mb-0">
		<div class="col-12">
			<form id="review-analysis-form" action="{{ url_for('generate_notebook') }}" method="post">

				<!-- Add introduction -->
				<div class="mt-3 light">Your notebook is ready to be generated.</div>
				<div class="mt-3 light">Here, you can review the configuration and customize your notebook by <b>adding biological annotations</b> and <b>modifying optional parameters</b>.</div>
				<div class="mt-3 light">This step is <b>optional</b>, but it is suggested to add some annotations to improve the notebook's findability. Once the desired changes have been made, click on <span class="rounded px-0 py-1 regular">Generate Notebook</span> to proceed.</div>
				<hr width="100%" class="my-4">

				<!-- Notebook Settings -->
				{{ macros.notebook_settings(f['gse'], f.get('group_a_label'), f.get('group_b_label')) }}

				<!-- Tool Settings -->
				{% for tool in t %}
					{% if tool.parameters|length %}				
						{{ macros.parameter_card(tool) }}
					{% endif %}				
				{% endfor %}

				<!-- Form -->
				{% for key, values in f.lists() %}
					{% for value in values %}
						<input type="hidden" name="{{ key }}" value="{{ value }}">
					{% endfor %}
				{% endfor %}
			</form>
		</div>
	</div>
</div>

{% endblock %}